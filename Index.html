<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Money Empire - Earn & Spend Simulator</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
            color: #333;
        }
        
        .game-container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
            overflow: hidden;
        }
        
        .header {
            background: linear-gradient(90deg, #2c3e50, #4a6491);
            color: white;
            padding: 25px;
            text-align: center;
            position: relative;
        }
        
        .money-display {
            font-size: 3.5em;
            font-weight: bold;
            color: #f1c40f;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.5);
            margin: 10px 0;
        }
        
        .stats-bar {
            display: flex;
            justify-content: space-around;
            background: #34495e;
            padding: 15px;
            color: white;
            font-size: 1.1em;
        }
        
        .stat-item {
            text-align: center;
        }
        
        .stat-value {
            font-weight: bold;
            color: #3498db;
            font-size: 1.3em;
        }
        
        .game-content {
            display: flex;
            min-height: 700px;
        }
        
        .sidebar {
            width: 250px;
            background: #f8f9fa;
            border-right: 2px solid #dee2e6;
            padding: 20px;
            overflow-y: auto;
        }
        
        .main-content {
            flex: 1;
            padding: 25px;
            background: #fff;
            overflow-y: auto;
        }
        
        .category-tabs {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            margin-bottom: 25px;
            padding-bottom: 15px;
            border-bottom: 2px solid #eee;
        }
        
        .tab {
            padding: 12px 20px;
            background: #e9ecef;
            border: none;
            border-radius: 10px;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s;
        }
        
        .tab:hover {
            background: #007bff;
            color: white;
            transform: translateY(-2px);
        }
        
        .tab.active {
            background: #007bff;
            color: white;
            box-shadow: 0 4px 8px rgba(0,123,255,0.3);
        }
        
        .items-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }
        
        .item-card {
            background: white;
            border-radius: 15px;
            padding: 20px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            border: 2px solid transparent;
            transition: all 0.3s;
            position: relative;
            overflow: hidden;
        }
        
        .item-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 25px rgba(0,0,0,0.2);
            border-color: #007bff;
        }
        
        .item-icon {
            font-size: 2.5em;
            margin-bottom: 15px;
            text-align: center;
        }
        
        .item-name {
            font-size: 1.2em;
            font-weight: bold;
            margin-bottom: 10px;
            color: #2c3e50;
        }
        
        .item-desc {
            color: #666;
            font-size: 0.9em;
            margin-bottom: 15px;
            min-height: 40px;
        }
        
        .item-cost {
            color: #e74c3c;
            font-weight: bold;
            font-size: 1.3em;
            margin-bottom: 15px;
        }
        
        .item-income {
            color: #27ae60;
            font-weight: bold;
            font-size: 1.3em;
            margin-bottom: 15px;
        }
        
        .buy-btn, .sell-btn {
            width: 100%;
            padding: 12px;
            border: none;
            border-radius: 8px;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s;
            margin-top: 5px;
        }
        
        .buy-btn {
            background: #27ae60;
            color: white;
        }
        
        .buy-btn:hover:not(:disabled) {
            background: #219653;
            transform: scale(1.05);
        }
        
        .sell-btn {
            background: #e74c3c;
            color: white;
        }
        
        .sell-btn:hover:not(:disabled) {
            background: #c0392b;
            transform: scale(1.05);
        }
        
        button:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }
        
        .owned-count {
            position: absolute;
            top: 10px;
            right: 10px;
            background: #3498db;
            color: white;
            width: 30px;
            height: 30px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
        }
        
        .achievements {
            background: #fff3cd;
            border: 1px solid #ffeaa7;
            border-radius: 10px;
            padding: 15px;
            margin-top: 20px;
        }
        
        .achievement {
            display: flex;
            align-items: center;
            margin: 10px 0;
            padding: 10px;
            background: white;
            border-radius: 8px;
        }
        
        .achievement.locked {
            opacity: 0.5;
        }
        
        .achievement-icon {
            font-size: 1.5em;
            margin-right: 15px;
        }
        
        .notification {
            position: fixed;
            bottom: 20px;
            right: 20px;
            background: #2ecc71;
            color: white;
            padding: 15px 25px;
            border-radius: 10px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.3);
            transform: translateX(150%);
            transition: transform 0.5s;
            z-index: 1000;
        }
        
        .notification.show {
            transform: translateX(0);
        }
        
        .progress-bar {
            height: 8px;
            background: #eee;
            border-radius: 4px;
            margin: 10px 0;
            overflow: hidden;
        }
        
        .progress {
            height: 100%;
            background: #27ae60;
            width: 0%;
            transition: width 0.5s;
        }
        
        .level-display {
            text-align: center;
            font-size: 1.2em;
            font-weight: bold;
            color: #9b59b6;
            margin: 10px 0;
        }
        
        @media (max-width: 768px) {
            .game-content {
                flex-direction: column;
            }
            
            .sidebar {
                width: 100%;
                border-right: none;
                border-bottom: 2px solid #dee2e6;
            }
            
            .items-grid {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="game-container">
        <div class="header">
            <h1>üí∞ MONEY EMPIRE üí∞</h1>
            <p>Build your financial empire from nothing to billions!</p>
            <div class="money-display">$<span id="money">1,000</span></div>
            <div class="level-display">Level: <span id="level">1</span> | XP: <span id="xp">0</span>/<span id="xpNeeded">100</span></div>
            <div class="progress-bar">
                <div class="progress" id="xpProgress"></div>
            </div>
        </div>
        
        <div class="stats-bar">
            <div class="stat-item">
                <div>Income/Second</div>
                <div class="stat-value">$<span id="incomePerSec">0</span></div>
            </div>
            <div class="stat-item">
                <div>Total Assets</div>
                <div class="stat-value">$<span id="totalAssets">1,000</span></div>
            </div>
            <div class="stat-item">
                <div>Net Worth</div>
                <div class="stat-value">$<span id="netWorth">1,000</span></div>
            </div>
            <div class="stat-item">
                <div>Items Owned</div>
                <div class="stat-value"><span id="itemsOwned">0</span>/<span id="totalItems">100</span></div>
            </div>
        </div>
        
        <div class="game-content">
            <div class="sidebar">
                <h3>üìä Quick Actions</h3>
                <button class="tab active" onclick="showCategory('income')">üíº Income Sources</button>
                <button class="tab" onclick="showCategory('assets')">üè† Assets</button>
                <button class="tab" onclick="showCategory('luxury')">üöó Luxury</button>
                <button class="tab" onclick="showCategory('business')">üè¢ Businesses</button>
                <button class="tab" onclick="showCategory('investments')">üìà Investments</button>
                <button class="tab" onclick="showCategory('collectibles')">üé® Collectibles</button>
                <button class="tab" onclick="showCategory('special')">üåü Special</button>
                
                <div class="achievements">
                    <h4>üèÜ Achievements</h4>
                    <div id="achievementsList"></div>
                </div>
            </div>
            
            <div class="main-content">
                <div class="category-tabs" id="subCategories"></div>
                <div class="items-grid" id="itemsContainer"></div>
            </div>
        </div>
    </div>
    
    <div class="notification" id="notification"></div>

    <script>
        // Game State
        let money = 1000;
        let incomePerSecond = 0;
        let ownedItems = {};
        let level = 1;
        let xp = 0;
        let xpNeeded = 100;
        let achievements = [];
        
        // Format numbers with commas
        function formatNumber(num) {
            return num.toString().replace(/\B(?=(\d{3})+(?!\d))/g, ",");
        }
        
        // Update UI
        function updateUI() {
            document.getElementById('money').textContent = formatNumber(Math.floor(money));
            document.getElementById('incomePerSec').textContent = formatNumber(incomePerSecond);
            document.getElementById('level').textContent = level;
            document.getElementById('xp').textContent = xp;
            document.getElementById('xpNeeded').textContent = xpNeeded;
            document.getElementById('xpProgress').style.width = `${(xp / xpNeeded) * 100}%`;
            
            // Calculate total assets and net worth
            let totalAssets = 0;
            let itemsOwnedCount = 0;
            
            for (const [id, item] of Object.entries(gameItems)) {
                if (ownedItems[id]) {
                    totalAssets += item.cost * ownedItems[id];
                    itemsOwnedCount += ownedItems[id];
                }
            }
            
            document.getElementById('totalAssets').textContent = formatNumber(totalAssets);
            document.getElementById('netWorth').textContent = formatNumber(Math.floor(money + totalAssets));
            document.getElementById('itemsOwned').textContent = itemsOwnedCount;
            document.getElementById('totalItems').textContent = Object.keys(gameItems).length;
            
            updateAchievements();
        }
        
        // Show notification
        function showNotification(message, type = 'success') {
            const notification = document.getElementById('notification');
            notification.textContent = message;
            notification.style.background = type === 'error' ? '#e74c3c' : '#2ecc71';
            notification.classList.add('show');
            
            setTimeout(() => {
                notification.classList.remove('show');
            }, 3000);
        }
        
        // Add XP
        function addXP(amount) {
            xp += amount;
            while (xp >= xpNeeded) {
                xp -= xpNeeded;
                level++;
                xpNeeded = Math.floor(xpNeeded * 1.5);
                showNotification(`üéâ Level Up! You are now level ${level}!`, 'success');
            }
            updateUI();
        }
        
        // Game Items Database (100+ items)
        const gameItems = {
            // Income Sources (20 items)
            'lemonade': { name: 'Lemonade Stand', cost: 100, income: 1, category: 'income', subcat: 'basic', icon: 'üçã', desc: 'Sweet and simple business' },
            'newspaper': { name: 'Newspaper Route', cost: 500, income: 5, category: 'income', subcat: 'basic', icon: 'üì∞', desc: 'Morning delivery job' },
            'freelance': { name: 'Freelance Work', cost: 2000, income: 20, category: 'income', subcat: 'professional', icon: 'üíª', desc: 'Online freelance gigs' },
            'youtube': { name: 'YouTube Channel', cost: 10000, income: 100, category: 'income', subcat: 'digital', icon: 'üìπ', desc: 'Create viral content' },
            'stocks': { name: 'Stock Trading', cost: 50000, income: 500, category: 'income', subcat: 'investing', icon: 'üìà', desc: 'Trade stocks daily' },
            'realestate': { name: 'Rental Property', cost: 200000, income: 2000, category: 'income', subcat: 'property', icon: 'üè†', desc: 'Monthly rental income' },
            'crypto': { name: 'Crypto Mining', cost: 1000000, income: 10000, category: 'income', subcat: 'digital', icon: '‚Çø', desc: 'Mine cryptocurrency' },
            'franchise': { name: 'Fast Food Franchise', cost: 5000000, income: 50000, category: 'income', subcat: 'business', icon: 'üçî', desc: 'Popular food chain' },
            'techstartup': { name: 'Tech Startup', cost: 25000000, income: 250000, category: 'income', subcat: 'business', icon: 'üí°', desc: 'Innovative tech company' },
            'oil': { name: 'Oil Company', cost: 100000000, income: 1000000, category: 'income', subcat: 'industrial', icon: 'üõ¢Ô∏è', desc: 'Extract and sell oil' },
            
            // Assets (20 items)
            'bicycle': { name: 'Bicycle', cost: 500, income: 0, category: 'assets', subcat: 'transport', icon: 'üö≤', desc: 'Basic transportation' },
            'motorcycle': { name: 'Motorcycle', cost: 10000, income: 0, category: 'assets', subcat: 'transport', icon: 'üèçÔ∏è', desc: 'Fast and cool ride' },
            'sedan': { name: 'Sedan Car', cost: 30000, income: 0, category: 'assets', subcat: 'transport', icon: 'üöó', desc: 'Reliable family car' },
            'sports': { name: 'Sports Car', cost: 200000, income: 0, category: 'assets', subcat: 'transport', icon: 'üèéÔ∏è', desc: 'High-performance vehicle' },
            'apartment': { name: 'Apartment', cost: 500000, income: 0, category: 'assets', subcat: 'property', icon: 'üè¢', desc: 'City apartment' },
            'mansion': { name: 'Mansion', cost: 5000000, income: 0, category: 'assets', subcat: 'property', icon: 'üè∞', desc: 'Luxurious estate' },
            'yacht': { name: 'Yacht', cost: 10000000, income: 0, category: 'assets', subcat: 'luxury', icon: 'üõ•Ô∏è', desc: 'Private luxury yacht' },
            'jet': { name: 'Private Jet', cost: 50000000, income: 0, category: 'assets', subcat: 'luxury', icon: '‚úàÔ∏è', desc: 'Travel in style' },
            'island': { name: 'Private Island', cost: 100000000, income: 0, category: 'assets', subcat: 'property', icon: 'üèùÔ∏è', desc: 'Your own paradise' },
            'spaceship': { name: 'Spaceship', cost: 1000000000, income: 0, category: 'assets', subcat: 'special', icon: 'üöÄ', desc: 'Interstellar travel' },
            
            // Luxury Items (20 items)
            'rolex': { name: 'Rolex Watch', cost: 10000, income: 0, category: 'luxury', subcat: 'accessories', icon: '‚åö', desc: 'Luxury timepiece' },
            'diamond': { name: 'Diamond Ring', cost: 50000, income: 0, category: 'luxury', subcat: 'jewelry', icon: 'üíé', desc: 'Sparkling diamond' },
            'painting': { name: 'Art Painting', cost: 200000, income: 0, category: 'luxury', subcat: 'art', icon: 'üñºÔ∏è', desc: 'Famous artwork' },
            'wine': { name: 'Rare Wine', cost: 500000, income: 0, category: 'luxury', subcat: 'collectibles', icon: 'üç∑', desc: 'Vintage collection' },
            'supercar': { name: 'Super Car', cost: 2000000, income: 0, category: 'luxury', subcat: 'vehicles', icon: 'üöò', desc: 'Limited edition supercar' },
            'helicopter': { name: 'Helicopter', cost: 5000000, income: 0, category: 'luxury', subcat: 'transport', icon: 'üöÅ', desc: 'Personal helicopter' },
            'castle': { name: 'Castle', cost: 25000000, income: 0, category: 'luxury', subcat: 'property', icon: 'üèØ', desc: 'Historic castle' },
            'submarine': { name: 'Submarine', cost: 50000000, income: 0, category: 'luxury', subcat: 'vehicles', icon: 'üõ≥Ô∏è', desc: 'Deep sea exploration' },
            'racehorse': { name: 'Race Horse', cost: 10000000, income: 0, category: 'luxury', subcat: 'animals', icon: 'üêé', desc: 'Champion racehorse' },
            'spacestation': { name: 'Space Station', cost: 1000000000, income: 0, category: 'luxury', subcat: 'special', icon: 'üõ∞Ô∏è', desc: 'Orbital residence' },
            
            // Businesses (20 items)
            'cafe': { name: 'Coffee Shop', cost: 50000, income: 500, category: 'business', subcat: 'retail', icon: '‚òï', desc: 'Local coffee spot' },
            'restaurant': { name: 'Restaurant', cost: 200000, income: 2000, category: 'business', subcat: 'food', icon: 'üçΩÔ∏è', desc: 'Fine dining establishment' },
            'mall': { name: 'Shopping Mall', cost: 5000000, income: 50000, category: 'business', subcat: 'retail', icon: 'üõçÔ∏è', desc: 'Large retail complex' },
            'hotel': { name: 'Hotel Chain', cost: 20000000, income: 200000, category: 'business', subcat: 'hospitality', icon: 'üè®', desc: 'Luxury hotels worldwide' },
            'airline': { name: 'Airline Company', cost: 100000000, income: 1000000, category: 'business', subcat: 'transport', icon: 'üõ´', desc: 'International airline' },
            'bank': { name: 'Bank', cost: 500000000, income: 5000000, category: 'business', subcat: 'finance', icon: 'üè¶', desc: 'Financial institution' },
            'techgiant': { name: 'Tech Giant', cost: 1000000000, income: 10000000, category: 'business', subcat: 'tech', icon: 'ü§ñ', desc: 'Global technology leader' },
            'pharma': { name: 'Pharma Company', cost: 5000000000, income: 50000000, category: 'business', subcat: 'health', icon: 'üíä', desc: 'Pharmaceutical research' },
            'spacex': { name: 'Space Company', cost: 10000000000, income: 100000000, category: 'business', subcat: 'tech', icon: 'üõ∏', desc: 'Space exploration' },
            'ai': { name: 'AI Corporation', cost: 50000000000, income: 500000000, category: 'business', subcat: 'tech', icon: 'üß†', desc: 'Artificial intelligence' },
            
            // Investments (20 items)
            'savings': { name: 'Savings Account', cost: 1000, income: 10, category: 'investments', subcat: 'basic', icon: 'üí∞', desc: 'Low-risk savings' },
            'bonds': { name: 'Government Bonds', cost: 10000, income: 100, category: 'investments', subcat: 'fixed', icon: 'üìú', desc: 'Secure government bonds' },
            'etf': { name: 'ETF Fund', cost: 50000, income: 500, category: 'investments', subcat: 'stocks', icon: 'üìä', desc: 'Diversified ETF' },
            'cryptofund': { name: 'Crypto Fund', cost: 200000, income: 2000, category: 'investments', subcat: 'crypto', icon: 'üîó', desc: 'Cryptocurrency fund' },
            'reit': { name: 'REIT', cost: 1000000, income: 10000, category: 'investments', subcat: 'property', icon: 'üèòÔ∏è', desc: 'Real estate trust' },
            'hedgefund': { name: 'Hedge Fund', cost: 10000000, income: 100000, category: 'investments', subcat: 'advanced', icon: 'üéØ', desc: 'High-risk hedge fund' },
            'vc': { name: 'Venture Capital', cost: 50000000, income: 500000, category: 'investments', subcat: 'advanced', icon: 'üí∏', desc: 'Startup investments' },
            'privateequity': { name: 'Private Equity', cost: 200000000, income: 2000000, category: 'investments', subcat: 'advanced', icon: 'üèõÔ∏è', desc: 'Private company stakes' },
            'commodities': { name: 'Commodities', cost: 1000000000, income: 10000000, category: 'investments', subcat: 'advanced', icon: '‚õèÔ∏è', desc: 'Raw materials trading' },
            'infrastructure': { name: 'Infrastructure', cost: 5000000000, income: 50000000, category: 'investments', subcat: 'advanced', icon: 'üèóÔ∏è', desc: 'Public infrastructure' },
            
            // Collectibles (20 items)
            'comic': { name: 'Rare Comic', cost: 5000, income: 0, category: 'collectibles', subcat: 'memorabilia', icon: 'üìö', desc: 'First edition comic' },
            'coin': { name: 'Ancient Coin', cost: 20000, income: 0, category: 'collectibles', subcat: 'antiques', icon: 'ü™ô', desc: 'Historical coin' },
            'stamp': { name: 'Rare Stamp', cost: 50000, income: 0, category: 'collectibles', subcat: 'memorabilia', icon: 'üè∑Ô∏è', desc: 'Valuable postage stamp' },
            'card': { name: 'Trading Card', cost: 100000, income: 0, category: 'collectibles', subcat: 'memorabilia', icon: 'üÉè', desc: 'Limited edition card' },
            'sculpture': { name: 'Sculpture', cost: 500000, income: 0, category: 'collectibles', subcat: 'art', icon: 'üóø', desc: 'Ancient sculpture' },
            'manuscript': { name: 'Manuscript', cost: 2000000, income: 0, category: 'collectibles', subcat: 'antiques', icon: 'üìú', desc: 'Historical document' },
            'car': { name: 'Vintage Car', cost: 5000000, income: 0, category: 'collectibles', subcat: 'vehicles', icon: 'üöô', desc: 'Classic automobile' },
            'violin': { name: 'Stradivarius', cost: 20000000, income: 0, category: 'collectibles', subcat: 'instruments', icon: 'üéª', desc: 'Rare violin' },
            'dinosaur': { name: 'Dinosaur Fossil', cost: 50000000, income: 0, category: 'collectibles', subcat: 'antiques', icon: 'ü¶ñ', desc: 'Complete skeleton' },
            'moonrock': { name: 'Moon Rock', cost: 100000000, income: 0, category: 'collectibles', subcat: 'space', icon: 'üåï', desc: 'Lunar sample' },
            
            // Special Items (20 items)
            'time': { name: 'Time Machine', cost: 1000000000, income: 10000000, category: 'special', subcat: 'scifi', icon: '‚è∞', desc: 'Travel through time' },
            'teleporter': { name: 'Teleporter', cost: 5000000000, income: 50000000, category: 'special', subcat: 'scifi', icon: 'üåÄ', desc: 'Instant transportation' },
            'cloak': { name: 'Invisibility Cloak', cost: 20000000000, income: 200000000, category: 'special', subcat: 'magic', icon: 'üëª', desc: 'Become invisible' },
            'fountain': { name: 'Fountain of Youth', cost: 50000000000, income: 500000000, category: 'special', subcat: 'magic', icon: '‚öóÔ∏è', desc: 'Eternal youth' },
            'unicorn': { name: 'Unicorn', cost: 100000000000, income: 1000000000, category: 'special', subcat: 'mythical', icon: 'ü¶Ñ', desc: 'Mythical creature' },
            'dragon': { name: 'Dragon', cost: 500000000000, income: 5000000000, category: 'special', subcat: 'mythical', icon: 'üêâ', desc: 'Fire-breathing dragon' },
            'planet': { name: 'Private Planet', cost: 1000000000000, income: 10000000000, category: 'special', subcat: 'space', icon: 'ü™ê', desc: 'Your own planet' },
            'galaxy': { name: 'Galaxy', cost: 10000000000000, income: 100000000000, category: 'special', subcat: 'space', icon: 'üåå', desc: 'Entire galaxy' },
            'multiverse': { name: 'Multiverse', cost: 100000000000000, income: 1000000000000, category: 'special', subcat: 'cosmic', icon: 'üå†', desc: 'Multiple universes' },
            'infinity': { name: 'Infinity', cost: Infinity, income: Infinity, category: 'special', subcat: 'cosmic', icon: '‚ôæÔ∏è', desc: 'The ultimate purchase' }
        };
        
        // Subcategories for each main category
        const subCategories = {
            'income': ['basic', 'professional', 'digital', 'investing', 'property', 'business', 'industrial'],
            'assets': ['transport', 'property', 'luxury', 'special'],
            'luxury': ['accessories', 'jewelry', 'art', 'collectibles', 'vehicles', 'transport', 'property', 'animals', 'special'],
            'business': ['retail', 'food', 'hospitality', 'transport', 'finance', 'tech', 'health'],
            'investments': ['basic', 'fixed', 'stocks', 'crypto', 'property', 'advanced'],
            'collectibles': ['memorabilia', 'antiques', 'art', 'vehicles', 'instruments', 'space'],
            'special': ['scifi', 'magic', 'mythical', 'space', 'cosmic']
        };
        
        // Achievements
        const achievementList = [
            { id: 'first_million', name: 'First Million', desc: 'Reach $1,000,000', goal: 1000000, icon: 'üí∞' },
            { id: 'ten_items', name: 'Collector', desc: 'Own 10 different items', goal: 10, icon: 'üèÜ' },
            { id: 'level_10', name: 'Decade', desc: 'Reach level 10', goal: 10, icon: '‚≠ê' },
            { id: 'billionaire', name: 'Billionaire', desc: 'Reach $1,000,000,000', goal: 1000000000, icon: 'üëë' },
            { id: 'all_items', name: 'Completionist', desc: 'Own all 100+ items', goal: Object.keys(gameItems).length, icon: 'üéØ' }
        ];
        
        // Show category
        function showCategory(category) {
            // Update active tab
            document.querySelectorAll('.tab').forEach(tab => tab.classList.remove('active'));
            event.target.classList.add('active');
            
            // Show subcategories
            const subCatContainer = document.getElementById('subCategories');
            subCatContainer.innerHTML = '<button class="tab active" onclick="showSubCategory(\'all\')">All</button>';
            
            if (subCategories[category]) {
                subCategories[category].forEach(subcat => {
                    subCatContainer.innerHTML += `<button class="tab" onclick="showSubCategory('${subcat}')">${subcat.charAt(0).toUpperCase() + subcat.slice(1)}</button>`;
                });
            }
            
            // Show items
            showSubCategory('all', category);
        }
        
        // Show subcategory items
        function showSubCategory(subcat, category = null) {
            if (!category) {
                category = document.querySelector('.sidebar .tab.active').onclick.toString().match(/showCategory\('(.*?)'\)/)[1];
            }
            
            // Update active subcategory tab
            document.querySelectorAll('#subCategories .tab').forEach(tab => tab.classList.remove('active'));
            event.target.classList.add('active');
            
            const container = document.getElementById('itemsContainer');
            container.innerHTML = '';
            
            // Filter and display items
            for (const [id, item] of Object.entries(gameItems)) {
                if (item.category === category && (subcat === 'all' || item.subcat === subcat)) {
                    const owned = ownedItems[id] || 0;
                    const canAfford = money >= item.cost;
                    
                    const itemHTML = `
                        <div class="item-card">
                            ${owned > 0 ? `<div class="owned-count">${owned}</div>` : ''}
                            <div class="item-icon">${item.icon}</div>
                            <div class="item-name">${item.name}</div>
                            <div class="item-desc">${item.desc}</div>
                            <div class="item-cost">Cost: $${formatNumber(item.cost)}</div>
                            ${item.income > 0 ? `<div class="item-income">Income: $${formatNumber(item.income)}/sec</div>` : ''}
                            <button class="buy-btn" onclick="buyItem('${id}')" ${!canAfford ? 'disabled' : ''}>
                                ${canAfford ? 'Buy' : 'Too Expensive'}
                            </button>
                            ${owned > 0 ? `<button class="sell-btn" onclick="sellItem('${id}')">Sell (${Math.floor(item.cost * 0.8)})</button>` : ''}
                        </div>
                    `;
                    container.innerHTML += itemHTML;
                }
            }
        }
        
        // Buy item
        function buyItem(itemId) {
            const item = gameItems[itemId];
            
            if (money >= item.cost) {
                money -= item.cost;
                ownedItems[itemId] = (ownedItems[itemId] || 0) + 1;
                
                if (item.income > 0) {
                    incomePerSecond += item.income;
                }
                
                showNotification(`‚úÖ Purchased ${item.name}!`, 'success');
                addXP(Math.floor(item.cost / 1000));
                updateUI();
                showSubCategory('all'); // Refresh display
            }
        }
        
        // Sell item
        function sellItem(itemId) {
            const item = gameItems[itemId];
            
            if (ownedItems[itemId] > 0) {
                const sellPrice = Math.floor(item.cost * 0.8);
                money += sellPrice;
                ownedItems[itemId]--;
                
                if (item.income > 0) {
                    incomePerSecond -= item.income;
                }
                
                if (ownedItems[itemId] === 0) {
                    delete ownedItems[itemId];
                }
                
                showNotification(`üí∞ Sold ${item.name} for $${formatNumber(sellPrice)}`, 'success');
                updateUI();
                showSubCategory('all'); // Refresh display
            }
        }
        
        // Update achievements
        function updateAchievements() {
            const container = document.getElementById('achievementsList');
            container.innerHTML = '';
            
            let totalItems = Object.keys(ownedItems).length;
            let totalValue = 0;
            
            for (const [id, count] of Object.entries(ownedItems)) {
                totalValue += gameItems[id].cost * count;
            }
            
            achievementList.forEach(achievement => {
                let completed = false;
                let progress = 0;
                
                switch(achievement.id) {
                    case 'first_million':
                        progress = Math.min(money + totalValue, achievement.goal);
                        completed = (money + totalValue) >= achievement.goal;
                        break;
                    case 'ten_items':
                        progress = Math.min(totalItems, achievement.goal);
                        completed = totalItems >= achievement.goal;
                        break;
                    case 'level_10':
                        progress = Math.min(level, achievement.goal);
                        completed = level >= achievement.goal;
                        break;
                    case 'billionaire':
                        progress = Math.min(money + totalValue, achievement.goal);
                        completed = (money + totalValue) >= achievement.goal;
                        break;
                    case 'all_items':
                        progress = Math.min(totalItems, achievement.goal);
                        completed = totalItems >= achievement.goal;
                        break;
                }
                
                const achievementHTML = `
                    <div class="achievement ${completed ? '' : 'locked'}">
                        <div class="achievement-icon">${achievement.icon}</div>
                        <div>
                            <div><strong>${achievement.name}</strong></div>
                            <div>${achievement.desc}</div>
                            <div>Progress: ${progress}/${achievement.goal}</div>
                        </div>
                    </div>
                `;
                container.innerHTML += achievementHTML;
            });
        }
        
        // Game loop for passive income
        function gameLoop() {
            money += incomePerSecond / 10; // Update 10 times per second
            updateUI();
        }
        
        // Initialize game
        function initGame() {
            // Load saved game
            const savedGame = localStorage.getItem('moneyEmpireSave');
            if (savedGame) {
                const saveData = JSON.parse(savedGame);
                money = saveData.money || 1000;
                incomePerSecond = saveData.incomePerSecond || 0;
                ownedItems = saveData.ownedItems || {};
                level = saveData.level || 1;
                xp = saveData.xp || 0;
                xpNeeded = saveData.xpNeeded || 100;
            }
            
            // Set up auto-save
            setInterval(() => {
                const saveData = {
                    money,
                    incomePerSecond,
                    ownedItems,
                    level,
                    xp,
                    xpNeeded,
                    timestamp: Date.now()
                };
                localStorage.setItem('moneyEmpireSave', JSON.stringify(saveData));
            }, 30000); // Save every 30 seconds
            
            // Start game loop
            setInterval(gameLoop, 100);
            
            // Show initial category
            showCategory('income');
            updateUI();
            
            // Add cheat code for testing (Ctrl+Shift+C)
            window.addEventListener('keydown', (e) => {
                if (e.ctrlKey && e.shiftKey && e.key === 'C') {
                    money += 1000000;
                    showNotification('üí∞ Cheat activated! +$1,000,000', 'success');
                    updateUI();
                }
            });
        }
        
        // Start the game
        window.onload = initGame;
    </script>
</body>
</html>
